x-git-defaults: &git_defaults
    host: github
    tag: branch-24.06
    upstream: cwharris

repos:
- name: cudf
  path: cudf
  git: {<<: *git_defaults, repo: cudf}
  cpp:
    - name: cudf
      sub_dir: cpp
      depends: []
      args:
        cmake: |
          $([ "pip" = ${PYTHON_PACKAGE_MANAGER} ] && echo -DUSE_LIBARROW_FROM_PYARROW=ON || echo)
    - name: cudf_kafka
      sub_dir: cpp/libcudf_kafka
      depends: [cudf]
  python:
    - name: cudf
      sub_dir: python/cudf
      depends: [cudf]
      args: {cmake: -DFIND_CUDF_CPP=ON}
    - name: dask_cudf
      sub_dir: python/dask_cudf
    - name: cudf_kafka
      sub_dir: python/cudf_kafka
      depends: [cudf_kafka]
    - name: custreamz
      sub_dir: python/custreamz

- name: mrc
  path: mrc
  cpp:
    - name: mrc
      sub_dir: ""
      depends: []
      args:
        cmake: |
          -DMRC_BUILD_TESTS=ON
          -DMRC_PYTHON_INPLACE_BUILD=ON
  python:
    - name: mrc
      sub_dir: python
      depends: []
  git:
    <<: *git_defaults
    tag: branch-24.06-rapids-24.06
    repo: mrc